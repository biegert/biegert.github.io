<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Widget Editor</title>
  <link rel="stylesheet" href="widget.css">
  <link rel="stylesheet" href="editor.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/lz-string@1.4.4/libs/lz-string.min.js"></script>
</head>
<body>
  <main class="widget-editor-container">
    <div class="widget-actions" role="toolbar" aria-label="Widget Actions">
      <input type="text" id="loadLink" placeholder="Paste embed link here" aria-label="Embed link input">
      <button id="loadWidget" class="primary" aria-label="Load widget from link">Load</button>
      <button id="generateLink" class="primary" aria-label="Generate embed link">Generate Link</button>
      <div id="embedLinkContainer" role="status" aria-live="polite"></div>
    </div>

    <div class="widget-container" id="editableWidget">
      <header class="widget-header" id="widgetHeader">
        <div id="widgetCategory" class="editable" role="textbox" aria-label="Left header text" contenteditable="true">Header Left</div>
        <div class="header-color-picker">
          <input type="color" id="headingColor" value="#508b8b" aria-label="Header color" list="presetColors">
        </div>
        <datalist id="presetColors">
          <option value="#508b8b"/>
          <option value="#668ba9"/>
          <option value="#cc7a6f"/>
          <option value="#c1a65c"/>
        </datalist>
        <div id="widgetDepartment" class="editable" role="textbox" aria-label="Right header text" contenteditable="true">Header Right</div>
      </header>
      <main class="widget-body">
        <h1 class="widget-title editable" id="widgetTitle" role="textbox" aria-label="Widget title" contenteditable="true">Procedure Title</h1>
        <p class="widget-description editable" id="widgetDescription" role="textbox" aria-label="Widget description" contenteditable="true">Description</p>
        
        <div class="tab-controls">
          <nav class="tab-nav" id="widgetTabNav" role="tablist"></nav>
          <button id="addTab" class="icon-button" aria-label="Add new tab" title="Add Tab">+</button>
        </div>
        
        <section class="tab-content" id="widgetTabContent" role="tabpanel"></section>
        
        <div class="optional-controls">
          <button id="addOptional" class="icon-button" aria-label="Add optional section" title="Add Optional Section">+ Add Optional Section</button>
        </div>
        <section class="optional-section" id="widgetOptional" aria-label="Optional sections"></section>
      </main>
    </div>
  </main>
  <script src="editor.js"></script>
</body>
</html>
